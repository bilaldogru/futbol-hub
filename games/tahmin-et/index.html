<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Futbolcu Arena - G√ºnl√ºk Meydan Okuma</title>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <a href="../../index.html" class="back-home-btn">
        <i class="fa-solid fa-arrow-left"></i> <span class="btn-text">ANA MEN√ú</span>
    </a>
    <div class="bg-overlay"></div>
<body>

    <div class="bg-overlay"></div>

    <div id="login-modal" class="modal">
        <div class="modal-content">
            <h2>G√úNL√úK MEYDAN OKUMA</h2>
            <p>Bug√ºn√ºn 10 futbolcusunu tahmin et, listeye adƒ±nƒ± yazdƒ±r!</p>
            <input type="text" id="username-input" placeholder="Adƒ±n veya Nickname..." maxlength="15">
            <button onclick="startDailyChallenge()">BA≈ûLA</button>
        </div>
    </div>

    <div class="main-layout blurred" id="game-wrapper">
        
        <div class="game-section">
            <div class="game-container">
                <header>
                    <div class="header-top">
                        <h1>FUTBOLCU ARENA</h1>
                        <div class="question-counter">SORU: <span id="q-count">1</span>/10</div>
                    </div>
                    
                    <div class="stats">
                        <div class="score-box current">
                            <span class="label">BU SORU</span>
                            <span id="current-score" class="value">100</span>
                        </div>
                        <div class="score-box total">
                            <span class="label">TOPLAM PUAN</span>
                            <span id="total-score" class="value">0</span>
                        </div>
                    </div>
                </header>

                <div class="hangman-container" id="hangman-area"></div>

                <div class="clues-wrapper">
                    <h3>ƒ∞PU√áLARI</h3>
                    <div class="clues-container" id="clues-area"></div>
                </div>

                <div class="input-area">
                    <input type="text" id="guess-input" placeholder="Futbolcunun adƒ±..." autocomplete="off">
                    <button onclick="makeGuess()">TAHMƒ∞N ET</button>
                </div>

                <div id="message-area" class="message hidden"></div>
                
                <button id="next-btn" class="hidden action-btn" onclick="nextQuestion()">SIRADAKƒ∞ SORU ‚ñ∂</button>
            </div>
        </div>

        <div class="sidebar">
            <div class="leaderboard-box">
                <h2>üèÜ Lƒ∞DERLƒ∞K TABLOSU</h2>
                <p class="date-label" id="date-display">16.02.2026</p>
                
                <ul id="leaderboard-list">
                    </ul>

                <div class="daily-info">
                    <p>Her g√ºn 00:00'da yenilenir.</p>
                    <p>Herkese aynƒ± 10 futbolcu sorulur.</p>
                </div>
            </div>
        </div>

    </div>

    <script src="script.js"></script>

    <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

  // --- AYNI FIREBASE CONFIG BURAYA DA LAZIM ---
  const firebaseConfig = {
    apiKey: "AIzaSyD62cMqFmtT_LYOQdyLEib3TlP2sDXVHUY",
    authDomain: "futbol-hub0.firebaseapp.com", 
    projectId: "futbol-hub0", storageBucket: "futbol-hub0.firebasestorage.app", 
    messagingSenderId: "995690857981", appId: "1:995690857981:web:01f199920e1c131cd04594", 
    measurementId: "G-7JT28VLCTE" 
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Bu fonksiyonu global yapƒ±yoruz ki oyunun i√ßinden √ßaƒüƒ±rƒ±labilsin
  window.saveScoreToFirebase = async (score, gameName) => {
    const userStr = localStorage.getItem('firebaseUser');
    if (!userStr) {
      alert("Skorunu kaydetmek i√ßin Ana Sayfadan Gƒ∞Rƒ∞≈û YAPMALISIN!");
      return;
    }
    const user = JSON.parse(userStr);

    try {
      await addDoc(collection(db, "scores"), {
        name: user.name,
        email: user.email, // E≈üsizlik kontrol√º i√ßin
        photo: user.photo,
        score: score,
        game: gameName,
        date: new Date()
      });
      alert("Skorun Liderlik Tablosuna Eklendi! üèÜ");
    } catch (e) {
      console.error("Hata:", e);
      alert("Skor kaydedilemedi.");
    }
  };
</script>
</body>
</html>